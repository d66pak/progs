#connecting to mysql using cli
mysql -u user -p
mysql -u user -p -S /tmp/mysql.sock

# create users ,drop users and check privileges commands

create user yahoo1 identified by 'y123';
select password('y123');

create user yahoo2@'%' identified by password '*B04AAB86815C8F24329AE46FC20B1450A22F3459';
create user yahoo3@'10.66.90.107' identified by password '*B04AAB86815C8F24329AE46FC20B1450A22F3459';

show grants for yahoo2;
show grants for yahoo3@'%';
show grants for yahoo3@'10.66.90.107';

drop user 'yahoo2'@'%','yahoo3'@'10.66.90.107';



#viewing and setting meta data information
show processlist;
show full processlist;

show variables;
show variables like 'innodb_buffer_%';

show status;
show status like 'threads_running';

show tables from information_schema;
select * from information_schema.PROCESSLIST;

# get the invidual database size using information schema
select TABLE_SCHEMA,sum(DATA_LENGTH+INDEX_LENGTH) db_size from information_schema.TABLES group by TABLE_SCHEMA;

#set one session variable
set session tmp_table_size=32*1024;

show global variables like 'tmp_table_size';
show session variables like 'tmp_table_size';

# storage engines

# create a testdb
create database training;

use training;

# create a myisam table
create table table_myisam(id smallint,name varchar(15) , primary key (id), key idx_name(name)) engine=myisam;

# create a innodb table
create table table_innodb(id smallint,name varchar(15) , primary key (id), key idx_name(name)) engine=innodb;

#alter table -change the name data type
alter table table_innodb modify name varchar(20);
show create table table_innodb\G
rename table table_myisam to table_myisam1;

# create test1 database

create database test1;

# drop the test1 database 

drop database test1;

# creat a table t1
create table t1( id int);

# drop table t1

drop table t1;

show create database training\G
show create table table_innodb\G
show create table table_myisam\G

# insert values
insert into table_innodb(id,name) values(1,'yahoo'),(2,'google'),(3,'apple'),(4,'microsoft'),(5,'aol');

replace into table_innodb values(1,'yahoo inc');


update table_innodb set name='aol inc' where id=5;

#create table join_t
create table join_t(id smallint);
insert into join_t values (4),(5);

#multi table update
update table_innodb,join_t
set table_innodb.name='microsoft inc' where table_innodb.id=join_t.id and join_t.id=4;

delete from table_innodb where id=5;
delete table_innodb,join_t from table_innodb join join_t on table_innodb.id=join_t.id;


#select 
select * from table_innodb;
select * from table_innodb where id in (1,2);
select * from table_innodb limit 2;

#joins 
create table a(id int) engine=innodb;
insert into a values(1),(2),(3);
create table b(id int) engine=innodb;
insert into b values(2),(3),(4);


select a.id
from a left join b on a.id=b.id
where b.id is null;


#employee table
create table employee(id int not null,name char(30) not null,boss int not null,primary key(id) )engine=innodb;

insert into employee values(1,'a',1),(2,'c',1),(3,'d',1),(5,'m',2),(6,'n',2),(8,'p',3),(9,'q',3);




